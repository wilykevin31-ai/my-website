<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>é˜¿éƒé¹¹é…¥é› é»é¤</title>

<style>
body{
  font-family:"Microsoft JhengHei",sans-serif;
  margin:0;
  padding:10px;
  background:#f2f2f2;
}
h1{text-align:center;margin:10px 0;}

.category{
  margin:16px 0;
  padding:14px;
  border-radius:16px;
}
.meat{background:#fff3e0;}
.side{background:#e3f2fd;}
.veg{background:#e8f5e9;}

.category-title{
  font-size:20px;
  font-weight:bold;
  margin-bottom:10px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:10px;
}

.item{
  background:#fff;
  border-radius:12px;
  padding:8px;
  text-align:center;
  box-shadow:0 2px 4px rgba(0,0,0,.1);
}

.price{color:#e53935;font-size:14px;margin-top:2px;}

.ctrl{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:6px;
}
.ctrl button{
  width:32px;
  height:32px;
  border:none;
  border-radius:50%;
  font-size:18px;
  background:#ffd180;
}
.qty{min-width:20px;}

#panel{
  background:#fff;
  margin-top:20px;
  padding:14px;
  border-radius:16px;
}
textarea{
  width:100%;
  height:70px;
  resize:none;
}
.total{
  text-align:right;
  font-size:18px;
  margin-top:6px;
}
.actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}
button.main{
  flex:1;
  padding:10px;
  font-size:16px;
  border:none;
  border-radius:10px;
}
.copy{background:#4caf50;color:#fff;}
.clear{background:#f44336;color:#fff;}
</style>
</head>

<body>
<h1>é˜¿éƒé¹¹é…¥é› ğŸ—</h1>

<div id="menu"></div>

<div id="panel">
  <textarea id="output" placeholder="å°šæœªé»é¤" readonly></textarea>
  <div class="total">ç¸½é‡‘é¡ï¼š<span id="total">$0</span></div>
  <div class="actions">
    <button class="main copy" onclick="copyOrder()">è¤‡è£½é»é¤</button>
    <button class="main clear" onclick="clearOrder()">æ¸…ç©º</button>
  </div>
</div>

<script>
const categories = [
{
  name:'ğŸ— è‚‰é¡ / æµ·é®®', class:'meat', items:[
  ['é¦™é…¥é›æ’',80],['é»ƒé‡‘é­šå¡Š',60],['ç‚¸é¾ç ',60],['é›è»Ÿéª¨',60],
  ['ç„¡éª¨é¹¹é…¥é›',60],['æ·±æµ·é­·é­š',60],['ç´æ¾³è‰¯äºŒç¯€ç¿…',50],
  ['æŸ³è‘‰é­š',25],['é›çš®',25],['é›å±è‚¡',25],['é›èƒ—',25],
  ['é›å¿ƒ',25],['é¾é³³è…¿',20],['é‘«é‘«è…¸',20],['è²¢ä¸¸',20],
  ['èŠ±æä¸¸',25],['ä¹å±¤å¡”èŠ±æä¸¸',25],['é±ˆé­šæ¢',25],
  ['é±ˆé­šè„†ä¸¸',25],['é»ƒé‡‘é­šä¸¸',25]
]},
{
  name:'ğŸ¥“ åŠ å·¥ / é…æ–™', class:'side', items:[
  ['å°é¦™è…¸',25],['ä¸€å£åƒé¦™è…¸',30],['èµ·å¸æ¢',25],['è…çš®æ²',25],
  ['ç”œä¸è¾£',25],['å°è‚‰è±†',30],['æ‰‹å·¥é»‘è¼ªç‰‡',30],
  ['é­šæ¿',20],['èŠ‹ç°½',20],['ç³¯ç±³è…¸',20],['ç±³è¡€ç³•',15],
  ['è±†å¹²',15],['ç™¾è‘‰è±†è…',20],['è˜¿è””ç³•',25],
  ['ç†±ç‹—æ£’',20],['å°ç†±ç‹—',20],['éº¥å…‹é›å¡Š',35],
  ['è„†è–¯',30],['æ´‹è”¥åœˆ',30],['ç‚¸è¦é¤…ä¹¾',30],
  ['é¦™è‰é¦¬éˆ´è–¯ä¸¸',30],['ç¿¹ç¿¹è–¯',30]
]},
{
  name:'ğŸ¥¬ è”¬èœ / ç”œé»', class:'veg', items:[
  ['ç”˜æ¢…åœ°ç“œ',30],['èŠ‹æ³¥åœ°ç“œçƒ',30],['èŠ‹ç±³å¸ƒä¸é…¥',30],
  ['èŠ‹ç²¿å·§',25],['èŠ‹é ­çµ£',20],['è‚‰é¬†èŠ‹æ¢',25],
  ['é¦¬éˆ´è–¯æ¢',20],['è–¯é¤…',15],['é›è›‹è±†è…',55],
  ['ç‰ç±³ç­',40],['æé®‘è‡',35],['é¦™è‡',35],
  ['èŠ±æ¤°èœ',35],['å››å­£è±†',25],['é’æ¤’',25],
  ['å°é»ƒç“œ',25],['ç‚¸æ¹¯åœ“',25],['éŠ€çµ²å·',25],
  ['é»‘ç³–éº»èŠ±æ²',25]
]}
];

const order = {};
const menu = document.getElementById('menu');
const output = document.getElementById('output');
const totalEl = document.getElementById('total');

categories.forEach(cat=>{
  const box=document.createElement('div');
  box.className=`category ${cat.class}`;
  box.innerHTML=`<div class="category-title">${cat.name}</div>`;
  const grid=document.createElement('div');
  grid.className='grid';

  cat.items.forEach(([n,p])=>{
    order[n]=0;
    const d=document.createElement('div');
    d.className='item';
    d.innerHTML=`
      <div>${n}</div>
      <div class="price">$${p}</div>
      <div class="ctrl">
        <button onclick="chg('${n}',-1)">âˆ’</button>
        <span class="qty" id="q-${n}">0</span>
        <button onclick="chg('${n}',1)">+</button>
      </div>`;
    grid.appendChild(d);
  });

  box.appendChild(grid);
  menu.appendChild(box);
});

function chg(n,d){
  order[n]=Math.max(0,order[n]+d);
  render();
}

function render(){
  let total=0, list=[];
  categories.forEach(c=>c.items.forEach(([n,p])=>{
    document.getElementById(`q-${n}`).innerText=order[n];
    if(order[n]>0){
      total+=order[n]*p;
      list.push(`${n}x${order[n]}`);
    }
  }));
  output.value=list.join(' ');
  totalEl.innerText=`$${total}`;
}

async function copyOrder(){
  if(!output.value) return alert('å°šæœªé»é¤');
  const text=`é»é¤ï¼š${output.value}\nç¸½é‡‘é¡ï¼š${totalEl.innerText}`;
  try{
    await navigator.clipboard.writeText(text);
    alert('âœ… å·²è¤‡è£½');
  }catch{
    const t=document.createElement('textarea');
    t.value=text;document.body.appendChild(t);
    t.select();document.execCommand('copy');
    document.body.removeChild(t);
    alert('å·²è¤‡è£½');
  }
}

function clearOrder(){
  Object.keys(order).forEach(k=>order[k]=0);
  render();
}
</script>
</body>
</html>
